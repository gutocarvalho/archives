<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Archives">
    
    <link rel="shortcut icon" href="https://archives.gutocarvalho.net/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.min.css">

    <title>Nova Vagrant BOX com CentOS 7.2.1511 e GitLab CE 8.12.0</title>
</head>
<body><header id="banner">
    <h2><a href="https://archives.gutocarvalho.net">Guto Carvalho Archives</a></h2>
    <nav>
        <ul>
            <li>
                <a href="https://gutocarvalho.net/quem-sou/" title="about">about</a>
            </li>
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>Nova Vagrant BOX com CentOS 7.2.1511 e GitLab CE 8.12.0</h1>
        <div>
                <time>September 24, 2016</time>
            </div>
    </header><p>Divulgando nova box CentOS 7.2 com GitLab CE 8.12.0 no atlas. Agora fica mais fácil testar a última versão do Gitlab com o menor esforço possível :)</p>
<h2 id="1-instalando-a-box">1. Instalando a box</h2>
<p>Se você usa vagrant 1.8.x para fazer download da box digite</p>
<pre><code>vagrant box add gutocarvalho/centos7x64-gitlab-ce
</code></pre>
<p>Crie um diretório para o projeto</p>
<pre><code>mkdir centos7-gitlab-ce; cd centos7-gitlab-ce
</code></pre>
<p>Crie um arquivo Vagrantfile no diretorio com o conteúdo abaixo</p>
<pre tabindex="0"><code># -*- mode: ruby -*-
# vi: set ft=ruby :

VAGRANTFILE_API_VERSION = &quot;2&quot;

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  config.vm.hostname = &quot;gitlab.hacklab&quot;
  config.vm.box = &quot;gutocarvalho/centos7x64-gitlab-ce&quot;
  config.vm.network &quot;private_network&quot;, ip: &quot;192.168.250.44&quot;
  config.vm.provider &quot;virtualbox&quot; do |virtualbox|
    virtualbox.customize [ &quot;modifyvm&quot;, :id, &quot;--cpus&quot;, &quot;1&quot; ]
    virtualbox.customize [ &quot;modifyvm&quot;, :id, &quot;--memory&quot;, &quot;2048&quot; ]
    virtualbox.gui = true
  end
  if Vagrant.has_plugin?(&quot;vagrant-cachier&quot;)
    config.cache.scope = :box
  end
end
</code></pre><p>Inicie o projeto</p>
<pre><code>vagrant up
</code></pre>
<p>Acesse a vm</p>
<pre><code>vagrant ssh
</code></pre>
<p>Acesse o GitLab</p>
<pre><code>http://192.168.250.44   
</code></pre>
<h2 id="2-refs">2. Refs</h2>
<p>Para acessar a box no atlas</p>
<pre><code>https://atlas.hashicorp.com/gutocarvalho/boxes/centos7x64-gitlab-ce   
</code></pre>
<p>O repo git com o código para build da box</p>
<pre><code>https://gitlab.com/gutocarvalho/packer-centos-gitlab
</code></pre>
<p>É isso, divirta-se.</p>
<p>[s]<br>
Guto</p>
</article>

        </main><footer id="footer">
    CC-BY-SA 2022 Guto Carvalho
</footer>
</body>
</html>
